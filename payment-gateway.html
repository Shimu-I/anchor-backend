<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment Gateway</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles/index.css">
  <link rel="stylesheet" href="styles/header-footer.css">
  <link rel="stylesheet" href="styles/payment-gateway.css">
</head>

<body>

  <div id="headerPlaceholder"></div>

  <!-- Loading State -->
  <div id="loadingState"
    style="display: flex; justify-content: center; align-items: center; min-height: 60vh; color: white;">
    <div style="text-align: center;">
      <i class="fas fa-spinner fa-spin" style="font-size: 40px; color: #00bfa5; margin-bottom: 20px;"></i>
      <p>Loading payment details...</p>
    </div>
  </div>

  <!-- Payment Modal Overlay -->
  <div class="payment-overlay" id="paymentOverlay" style="display: none;">
    <div class="payment-container">

      <!-- Fundraiser Info Header -->
      <div class="fundraiser-info-header" id="fundraiserInfo">
        <!-- Will be populated by JavaScript -->
      </div>

      <form id="paymentForm" action="payment-gateway.php" method="POST" class="payment-modal">
        <input type="hidden" name="ref_amount" id="hiddenAmount">
        <input type="hidden" name="ref_type" id="hiddenType">
        <input type="hidden" name="ref_id" id="hiddenId">
        <input type="hidden" name="payment_method" id="hiddenMethod" value="card">

        <a href="javascript:history.back()" class="payment-close-btn" title="Cancel Payment">×</a>

        <div class="modal-header">
          <h2>Complete Your Donation</h2>
          <div class="amount-field">
            <label>Donation Amount (৳):</label>
            <input type="number" min="1" step="0.01" value="0.00" id="amountDisplay"
              style="background: white; cursor: text;" placeholder="Enter amount">
          </div>
          <h3 class="payment-method-title">Payment method</h3>
        </div>

        <div class="payment-tabs">
          <button type="button" class="tab active" data-tab="cards">Cards</button>
          <button type="button" class="tab" data-tab="mobile">Mobile Banking</button>
        </div>

        <div id="cardsTab" class="tab-content active">
          <div class="card-logos">
            <img src="images/payment-gateway/visa.jpg" alt="Visa">
            <img src="images/payment-gateway/mastercard.jpg" alt="Mastercard">
            <img src="images/payment-gateway/americanex.jpg" alt="American Express">
          </div>
          <div class="card-form-container">
            <input type="text" name="card_number" placeholder="Card Number" maxlength="19">
            <div class="expiry-cvc-row">
              <input type="text" name="card_expiry" placeholder="MM/YY" maxlength="5">
              <input type="text" name="card_cvc" placeholder="CVC/CVV" maxlength="4">
            </div>
            <input type="text" name="card_holder" placeholder="Card Holder Name">
            <div class="checkbox-group">
              <input type="checkbox" id="rememberCard">
              <label for="rememberCard">Remember this card</label>
            </div>
            <div class="checkbox-group">
              <input type="checkbox" id="terms" required>
              <label for="terms">I agree to the <a href="#" target="_blank">Terms of Service</a></label>
            </div>
          </div>
        </div>

        <div id="mobileTab" class="tab-content">
          <div class="mobile-banking-grid">
            <div class="mobile-banking-option" data-method="nagad"><img src="images/payment-gateway/nogod.jpg"
                alt="Nagad"></div>
            <div class="mobile-banking-option" data-method="dbbl"><img src="images/payment-gateway/dbbl.jpg" alt="DBBL">
            </div>
            <div class="mobile-banking-option" data-method="bkash"><img src="images/payment-gateway/nogod.jpg"
                alt="bKash"></div>
            <div class="mobile-banking-option" data-method="rocket"><img src="images/payment-gateway/rocket.jpg"
                alt="Rocket"></div>
            <div class="mobile-banking-option" data-method="upay"><img src="images/payment-gateway/upai.jpg" alt="Upay">
            </div>
          </div>
          <input type="hidden" name="mobile_provider" id="mobileProvider">
          <p id="selectedMobileText" style="text-align:center; color:green; font-weight:bold;"></p>
        </div>

        <button type="submit" name="submit_payment" class="pay-button" id="confirmPayBtn">
          Pay <span id="payBtnAmount">0.00</span> ৳
        </button>

      </form>
    </div>
  </div>

  <div id="footerPlaceholder"></div>

  <script src="javascript/header-footer.js"></script>
  <script src="javascript/payment-gateway.js"></script>

</body>

</html>